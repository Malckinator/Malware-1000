#include <stdio.h>

#include "../include/cpu.h"

int main() {
	MW1000* cpu = CreateMW1000(256, 4);
	cpu->memory[0] = 31;
    cpu->memory[1] = 0;
	cpu->memory[2] = 4;
	cpu->memory[3] = 15;
	do {
		printf("\n\nPC = %08xh|SP = %08xh|STATUS = %08xh\n\nA = %08xh|B = %08xh|C = %08xh|D = %08xh\nE = %08xh|F = %08xh|G = %08xh|H = %08xh\nI = %08xh|J = %08xh|K = %08xh|L = %08xh\nM = %08xh|N = %08xh|O = %08xh|P = %08xh", 
        cpu->pc, cpu->sp, cpu->status, cpu->gpregs[0], cpu->gpregs[1],
        cpu->gpregs[2], cpu->gpregs[3], cpu->gpregs[4], cpu->gpregs[5],
        cpu->gpregs[6], cpu->gpregs[7], cpu->gpregs[8], cpu->gpregs[9],
        cpu->gpregs[10], cpu->gpregs[11], cpu->gpregs[12], cpu->gpregs[13],
        cpu->gpregs[14], cpu->gpregs[15]);
		getc(stdin);
	} while (RunInstruction(cpu));
}
